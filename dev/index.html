<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Cauliflower v0.1</title>
    <!-- for jquery -->
    <link rel="stylesheet" href="jquery/css/jquery-ui-1.8.22.custom.css">
    <script type="text/javascript" src="jquery/jquery-1.7.2.js"></script>
    <script type="text/javascript" src="jquery/jquery-ui-1.8.22.custom.min.js"></script>
    <script type="text/javascript" src="jquery/jquery.cookie.js"></script>
    <!-- for codemirror -->
    <link rel=stylesheet href="codemirror/lib/codemirror.css">
    <link rel=stylesheet href="codemirror/theme/eclipse-jspreview.css">
    <script type="text/javascript" src="codemirror/lib/codemirror.js"></script>
    <script type="text/javascript" src="codemirror/mode/xml/xml.js"></script>
    <script type="text/javascript" src="codemirror/mode/javascript/javascript.js"></script>
    <script type="text/javascript" src="codemirror/mode/css/css.js"></script>
    <script type="text/javascript" src="codemirror/mode/htmlmixed/htmlmixed.js"></script>
    <script type="text/javascript" src="codemirror/lib/util/closetag.js"></script>
    <script type="text/javascript" src="codemirror/lib/util/formatting.js"></script>
    <script type="text/javascript" src="codemirror/lib/util/match-highlighter.js"></script>
    <script type="text/javascript" src="codemirror/lib/util/searchcursor.js"></script>
    <style type=text/css>
      
      #top {
          padding: 10px 4px;
      }
      
      .CodeMirror {
          border: 1px solid #d4d4d4;
          /*position: relative;*/
          /*height: 100%;
           width: 80%;*/
      }
      
      /* for HTML editor */
      .CodeMirror-activeline {
          background: #e8f2ff !important;
      }
      
      .CodeMirror-matchhighlight {
          font-weight: bolder;
          background: #ffaaaa;
          padding: 0px 0px 0px 0px;
          /*
           background-image: url(img/codemirror/error.png);
           background-repeat: no-repeat;
           background-position: left bottom*/
      }
      
      .CodeMirror-update {
          /*text-decoration: underline;*/
          /*font-weight: bolder;*/
          background: #fc3;
          /*text-shadow: gray 1px 2px 1px;*/
      }
      
      #dialogicon {
          vertical-align: middle;
          float: left;
          margin: 3px 15px 5px 0px;
      }
      
      #new_button {
          margin-left: 20px;
      }
      
      #load {
          width: 0px;
          visibility: hidden;
      }
      
      #exec_button {
          background: url("jquery/css/images/ui-bg_flat_55_fbec88_40x100.png") repeat-x scroll 50% 50% #FBEC88;
          border: 1px solid #FAD42E;
          margin-left: 30px;
          /*とりあえず色を変えただけ 要グラデーション*/
      }
      
      #html_preview {
          width: 40%;
          position: absolute;
          top: 50px;
          right: 20px;
          height: 300px;
          border: 1px solid black;
      }
      
      #tab-javascript {
          height: 530px;
      }
      
      #blockly_frame {
          width: 100%;
          height: 100%;
          border: 1px solid #d4d4d4;
      }
      
      #blockly_frame_div {
          float: left;
          width: 65%;
          height: 100%;
      }
      
      #blockly_text_div {
          margin-left: 65%;
          padding-left: 20px;
      }
      
      .title {
          font-family: Lucida Grande, Lucida Sans, Arial, sans-serif;
          text-align: right;
          vertical-align: middle;
          font-size: 25px;
          color: #1B75BB;
      }
      
      .ui-tabs {
          font-size: 14px;
      }
      
      .ui-dialog {
          font-size: 12px;
      }
      
      .ui-button {
          font-size: 13px;
      }
    </style>
    <!--  for Blocky TODO:userScriptの役割をチェック --><script type="text/javascript" src="cauliflower.js"></script>
    <script type="text/javascript" id="userScript"></script>
    <script type="text/javascript" src="htmlparser/htmlparser.js"></script>
    <script type="text/javascript" src="diff/diff_match_patch.js"></script>
  </head>
  <body>
    <div id="top">
      <span class="title">
        Cauliflower v0.1
      </span>
      <span>
        <button id="new_button">新規</button>
        <button id="load_button">開く</button>
        <button id="save_button">保存</button>
      </span>
      <button id="exec_button">実行</button>
      <input id="load" type="file">
    </div>
    <div id="tabs">
      <ul>
        <li><a href="#tab-html">HTML編集</a></li>
        <li><a href="#tab-javascript">JavaScript編集</a></li>
      </ul>
      <div id="tab-javascript">
        <div id="blockly_frame_div">
          <iframe id="blockly_frame" src="jsFrame/frame.html"></iframe>
        </div>
        <div id="blockly_text_div">
          <textarea id="blockly_text"></textarea>
        </div>
        <!--
        <table id="block" style="width: 100%;height: 100%;">
        <tr>
        <td style="width: 65%;height: 100%;vertical-align: top; ">
        <iframe id="blockly_frame" src="jsFrame/frame.html" style="min-width: 350px;"></iframe>
        <a href="javascript:discardBlocks();">開発用：ブロックのローカルストレージ削除</a>
        </td>
        <td style="width:35%; height: 100%;vertical-align: top; padding-left:20px;">
        <textarea id="blockly_text"></textarea>
        </td>
        </tr>
        </table>
        -->
      </div>
      <div id="tab-html">
        <textarea id="html_textarea"></textarea>
        <div style="margin-bottom:10px;">
          <a href="javascript:loadHTMLTemplate();">ボタンにする予定：テンプレート読込</a>｜<a href="javascript:discardHTML();">テスト用：localstrage初期化</a>｜<a href="javascript:autoFormat();">テスト用：オートフォーマット</a>
        </div>
        <iframe id="html_preview"></iframe>
      </div>
    </div>
    <div id="dialog">
      <img id="dialogicon">
      <div id="dialog_message">
      </div>
    </div>
  </body>
</html>
