<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Cauliflower v0.1</title>
    <!-- for jquery -->
    <link rel="stylesheet" href="jquery/css/jquery-ui-1.8.22.custom.css">
    <script type="text/javascript" src="jquery/jquery-1.7.2.min.js"></script>
    <script type="text/javascript" src="jquery/jquery-ui-1.8.22.custom.min.js"></script>
    <script type="text/javascript" src="jquery/jquery.cookie.js"></script>
    <!-- for codemirror -->
    <link rel=stylesheet href="codemirror/lib/codemirror.css">
    <link rel=stylesheet href="codemirror/theme/eclipse-jspreview.css">
    <link rel=stylesheet href="codemirror/theme/html-editor.css">
    <script type="text/javascript" src="codemirror/lib/codemirror.js"></script>
    <script type="text/javascript" src="codemirror/mode/xml/xml.js"></script>
    <script type="text/javascript" src="codemirror/mode/javascript/javascript.js"></script>
    <script type="text/javascript" src="codemirror/mode/css/css.js"></script>
    <script type="text/javascript" src="codemirror/mode/htmlmixed/htmlmixed.js"></script>
    <script type="text/javascript" src="codemirror/lib/util/closetag.js"></script>
    <script type="text/javascript" src="codemirror/lib/util/formatting.js"></script>
    <script type="text/javascript" src="codemirror/lib/util/match-highlighter.js"></script>
    <script type="text/javascript" src="codemirror/lib/util/searchcursor.js"></script>
    <style type=text/css>
      
      #top {
          padding: 10px 4px;
      }
      
      .CodeMirror {
          border: 1px solid #d4d4d4;
          /*position: relative;*/
          /*height: 100%;
           width: 80%;*/
      }
      
      /* for HTML editor */
      .CodeMirror-activeline {
          background: #e8f2ff !important;
      }
      
      .CodeMirror-matchhighlight {
          font-weight: bolder;
          background: #ffaaaa;
          padding: 0px 0px 0px 0px;
          /*
           background-image: url(img/codemirror/error.png);
           background-repeat: no-repeat;
           background-position: left bottom*/
      }
      
      .CodeMirror-update {
          /*text-decoration: underline;*/
          /*font-weight: bolder;*/
          background: #fc3;
          /*text-shadow: gray 1px 2px 1px;*/
      }
      
      #dialogicon {
          vertical-align: middle;
          float: left;
          margin: 3px 15px 5px 0px;
      }
      
      #new_button {
          margin-left: 20px;
      }
      
      #load {
          width: 0px;
          visibility: hidden;
      }
      
      #exec_button {
          background: url("jquery/css/images/ui-bg_flat_55_fbec88_40x100.png") repeat-x scroll 50% 50% #FBEC88;
          border: 1px solid #FAD42E;
          margin-left: 30px;
          /*とりあえず色を変えただけ 要グラデーション*/
      }
      
      #html_preview {
          width: 40%;
          position: absolute;
          top: 50px;
          right: 20px;
          height: 300px;
          border: 1px solid black;
      }
      
      #tab-javascript {
          height: 530px;
      }
      
      #blockly_frame {
          width: 100%;
          height: 100%;
          min-width: 200px;
          border: 1px solid #d4d4d4;
      }
      
      #blockly_frame_div {
          float: left;
          width: 60%;
          height: 100%;
      }
      
      #blockly_text_div {
          margin-left: 60%;
          padding-left: 15px;
      }
      
      .title {
          font-family: Lucida Grande, Lucida Sans, Arial, sans-serif;
          text-align: right;
          vertical-align: middle;
          font-size: 25px;
          color: #1B75BB;
      }
      
      .ui-tabs {
          font-size: 14px;
      }
      
      .ui-dialog {
          font-size: 12px;
      }
      
      .ui-button {
          font-size: 13px;
      }
      
      .html-button-frame {
          border-top: 1px solid #ccc;
          border-left: 1px solid #ccc;
          border-right: 1px solid #ccc;
          background: #eee;
          position: relative;
          width: 50%;
      }
      
      .html-button {
          display: block;
          float: left;
          padding: 3px;
          line-height: 0;
          margin: 1px;
          margin-right: 0px;
      }
      
      .html-button:hover {
          padding: 2px;
          border: 1px solid #ccc;
      }
      
      .html-button img {
          line-height: 0;
      }
      
      .html-button.inactive {
          -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";
          filter: alpha(opacity = 50);
          opacity: .5;
      }
      
      .html-clearfix:after {
          visibility: hidden;
          display: block;
          font-size: 0;
          content: "\0020";
          clear: both;
          height: 0;
      }
      
      .html-clearfix {
          display: block;
      }
    </style>
    <!--  for Blocky TODO:userScriptの役割をチェック --><script type="text/javascript" src="cauliflower.js"></script>
    <script type="text/javascript" id="userScript"></script>
    <script type="text/javascript" src="htmlparser/htmlparser.js"></script>
    <script type="text/javascript" src="diff/diff_match_patch.js"></script>
  </head>
  <body>
    <div id="top">
      <span class="title">
        Cauliflower v0.1
      </span>
      <span>
        <button id="new_button">
          新規
        </button>
        <button id="load_button">
          開く
        </button>
        <button id="save_button">
          保存
        </button>
      </span>
      <button id="exec_button">
        実行
      </button>
      <input id="load" type="file">
    </div>
    <div id="tabs">
      <ul>
        <li>
          <a href="#tab-html">
            HTML編集
          </a>
        </li>
        <li>
          <a href="#tab-javascript">
            JavaScript編集
          </a>
        </li>
      </ul>
      <div id="tab-javascript">
        <div id="blockly_frame_div">
          <iframe id="blockly_frame" src="jsFrame/frame.html"></iframe>
        </div>
        <div id="blockly_text_div">
          <textarea id="blockly_text"></textarea>
        </div>
      </div>
      <div id="tab-html">
        <div id="html-toolbar" class="html-clearfix html-button-frame">
          <a id="template_button" class="html-button" title="HTMLテンプレートの読込" onclick="loadHTMLTemplateConfirm();">
            <img border="0" src="img/silk/html.png">
          </a>
          <a id="undo_button" class="html-button" title="元に戻す" onclick="undoHTMLEdit();">
            <img border="0" src="img/silk/arrow_undo.png">
          </a>
          <a id="redo_button" class="html-button" title="やり直し" onclick="redoHTMLEdit();">
            <img border="0" src="img/silk/arrow_redo.png">
          </a>
          <a id="large_font_button" class="html-button" title="フォントサイズを大きくする" onclick="setHTMLEditorFontLarger();">
            <img border="0" src="img/silk/font_add.png">
          </a>
          <a id="small_font_button" class="html-button" title="フォントサイズを小さくする" onclick="setHTMLEditorFontSmaller();">
            <img border="0" src="img/silk/font_delete.png">
          </a>
          <a id="format_button" class="html-button" title="自動フォーマット" onclick="autoFormatHTML();">
            <img border="0" src="img/silk/text_indent.png">
          </a>
        </div>
        <div style="300px">
          <textarea id="html_textarea"></textarea>
        </div>
        <iframe id="html_preview"></iframe>
      </div>
    </div>
    <div id="dialog">
      <img id="dialogicon">
      <div id="dialog_message">
      </div>
    </div>
  </body>
</html>
